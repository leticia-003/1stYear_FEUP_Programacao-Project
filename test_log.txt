>>>> [1] batman <<<<
Assertion failed: (x >= 0 && x < width_), function at, file PNGImage.cpp, line 62.
>>>> [2] batman_2 <<<<
>>>> [3] blank_1 <<<<
>>>> [4] blank_2 <<<<
>>>> [5] circle_1 <<<<
>>>> [6] circle_2 <<<<
>>>> [7] ellipse_1 <<<<
>>>> [8] ellipse_2 <<<<
>>>> [9] group_1 <<<<
>>>> [10] group_2 <<<<
Assertion failed: (x >= 0 && x < width_), function at, file PNGImage.cpp, line 62.
>>>> [11] group_3 <<<<
Assertion failed: (x >= 0 && x < width_), function at, file PNGImage.cpp, line 62.
>>>> [12] group_4 <<<<
Assertion failed: (x >= 0 && x < width_), function at, file PNGImage.cpp, line 62.
>>>> [13] group_5 <<<<
Assertion failed: (x >= 0 && x < width_), function at, file PNGImage.cpp, line 62.
>>>> [14] group_6 <<<<
Assertion failed: (x >= 0 && x < width_), function at, file PNGImage.cpp, line 62.
>>>> [15] group_7 <<<<
Assertion failed: (y >= 0 && y < height_), function at, file PNGImage.cpp, line 63.
>>>> [16] line_1 <<<<
>>>> [17] line_2 <<<<
>>>> [18] lion <<<<
Assertion failed: (x >= 0 && x < width_), function at, file PNGImage.cpp, line 62.
>>>> [19] polygon_1 <<<<
>>>> [20] polygon_2 <<<<
>>>> [21] polyline_1 <<<<
>>>> [22] polyline_2 <<<<
>>>> [23] polyline_3 <<<<
>>>> [24] rect_1 <<<<
Assertion failed: (x >= 0 && x < width_), function at, file PNGImage.cpp, line 62.
>>>> [25] rect_2 <<<<
pixel (10 590): expected 255 255 255 got 255 0 0
>>>> [26] rect_3 <<<<
pixel (30 155): expected 255 255 255 got 0 0 0
>>>> [27] rotate_circle <<<<
>>>> [28] rotate_circle_with_origin <<<<
>>>> [29] rotate_line <<<<
>>>> [30] rotate_line_with_origin <<<<
>>>> [31] rotate_polygon <<<<
>>>> [32] rotate_polygon_with_origin <<<<
>>>> [33] rotate_polyline <<<<
>>>> [34] rotate_polyline_with_origin <<<<
>>>> [35] rotate_rect <<<<
pixel (6 252): expected 0 0 255 got 255 255 255
>>>> [36] rotate_rect_with_origin <<<<
Assertion failed: (x >= 0 && x < width_), function at, file PNGImage.cpp, line 62.
>>>> [37] scale_circle <<<<
>>>> [38] scale_circle_with_origin <<<<
>>>> [39] scale_ellipse <<<<
>>>> [40] scale_ellipse_with_origin <<<<
>>>> [41] scale_line <<<<
>>>> [42] scale_line_with_origin <<<<
>>>> [43] scale_polygon <<<<
>>>> [44] scale_polygon_with_origin <<<<
>>>> [45] scale_polyline <<<<
>>>> [46] scale_polyline_with_origin <<<<
>>>> [47] scale_rect <<<<
pixel (0 20): expected 255 0 0 got 0 0 0
>>>> [48] scale_rect_with_origin <<<<
pixel (55 127): expected 255 255 255 got 0 255 0
>>>> [49] transform_several <<<<
>>>> [50] translate_circle <<<<
>>>> [51] translate_ellipse <<<<
>>>> [52] translate_line <<<<
>>>> [53] translate_polygon <<<<
>>>> [54] translate_polyline <<<<
>>>> [55] translate_rect <<<<
Assertion failed: (x >= 0 && x < width_), function at, file PNGImage.cpp, line 62.
>>>> [56] use_1 <<<<
convert.cpp:15:16: runtime error: member call on address 0x000106701a60 which does not point to an object of type 'svg::SVGElement'
0x000106701a60: note: object has invalid vptr
 00 00 00 00  78 00 00 00 00 00 00 00  6d 79 43 69 72 63 6c 65  00 00 00 00 00 00 00 00  00 00 00 00
              ^~~~~~~~~~~~~~~~~~~~~~~
              invalid vptr
SUMMARY: UndefinedBehaviorSanitizer: undefined-behavior convert.cpp:15:16 in 
=================================================================
==50639==ERROR: AddressSanitizer: heap-use-after-free on address 0x000106701a60 at pc 0x0001030f69c8 bp 0x00016cf01ad0 sp 0x00016cf01ac8
READ of size 8 at 0x000106701a60 thread T0
    #0 0x1030f69c4 in svg::convert(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>> const&, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>> const&) convert.cpp:15
    #1 0x102f2f8b8 in svg::TestDriver::run_conversion_test(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>> const&) test.cpp:41
    #2 0x102f09204 in svg::TestDriver::run_test(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>> const&) test.cpp:102
    #3 0x102eff000 in svg::TestDriver::run_tests(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>> const&) test.cpp:163
    #4 0x102efde98 in main test.cpp:181
    #5 0x19448a0dc  (<unknown module>)

0x000106701a60 is located 0 bytes inside of 80-byte region [0x000106701a60,0x000106701ab0)
freed by thread T0 here:
    #0 0x103b45b8c in wrap__ZdlPv+0x74 (libclang_rt.asan_osx_dynamic.dylib:arm64e+0x61b8c)
    #1 0x10304ff38 in svg::Circle::~Circle() SVGElements.hpp:65
    #2 0x103065710 in std::__1::default_delete<svg::SVGElement>::operator()[abi:ue170006](svg::SVGElement*) const unique_ptr.h:68
    #3 0x103065308 in std::__1::unique_ptr<svg::SVGElement, std::__1::default_delete<svg::SVGElement>>::reset[abi:ue170006](svg::SVGElement*) unique_ptr.h:300
    #4 0x103065058 in std::__1::unique_ptr<svg::SVGElement, std::__1::default_delete<svg::SVGElement>>::~unique_ptr[abi:ue170006]() unique_ptr.h:266
    #5 0x10304fc64 in std::__1::unique_ptr<svg::SVGElement, std::__1::default_delete<svg::SVGElement>>::~unique_ptr[abi:ue170006]() unique_ptr.h:266
    #6 0x1030cc728 in std::__1::pair<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>> const, std::__1::unique_ptr<svg::SVGElement, std::__1::default_delete<svg::SVGElement>>>::~pair() pair.h:81
    #7 0x1030cc6ac in std::__1::pair<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>> const, std::__1::unique_ptr<svg::SVGElement, std::__1::default_delete<svg::SVGElement>>>::~pair() pair.h:81
    #8 0x1030cc604 in void std::__1::allocator_traits<std::__1::allocator<std::__1::__tree_node<std::__1::__value_type<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>>, std::__1::unique_ptr<svg::SVGElement, std::__1::default_delete<svg::SVGElement>>>, void*>>>::destroy[abi:ue170006]<std::__1::pair<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>> const, std::__1::unique_ptr<svg::SVGElement, std::__1::default_delete<svg::SVGElement>>>, void, void>(std::__1::allocator<std::__1::__tree_node<std::__1::__value_type<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>>, std::__1::unique_ptr<svg::SVGElement, std::__1::default_delete<svg::SVGElement>>>, void*>>&, std::__1::pair<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>> const, std::__1::unique_ptr<svg::SVGElement, std::__1::default_delete<svg::SVGElement>>>*) allocator_traits.h:325
    #9 0x1030f6298 in std::__1::__tree<std::__1::__value_type<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>>, std::__1::unique_ptr<svg::SVGElement, std::__1::default_delete<svg::SVGElement>>>, std::__1::__map_value_compare<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>>, std::__1::__value_type<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>>, std::__1::unique_ptr<svg::SVGElement, std::__1::default_delete<svg::SVGElement>>>, std::__1::less<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>>>, true>, std::__1::allocator<std::__1::__value_type<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>>, std::__1::unique_ptr<svg::SVGElement, std::__1::default_delete<svg::SVGElement>>>>>::destroy(std::__1::__tree_node<std::__1::__value_type<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>>, std::__1::unique_ptr<svg::SVGElement, std::__1::default_delete<svg::SVGElement>>>, void*>*) __tree:1811
    #10 0x1030f5e68 in std::__1::__tree<std::__1::__value_type<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>>, std::__1::unique_ptr<svg::SVGElement, std::__1::default_delete<svg::SVGElement>>>, std::__1::__map_value_compare<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>>, std::__1::__value_type<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>>, std::__1::unique_ptr<svg::SVGElement, std::__1::default_delete<svg::SVGElement>>>, std::__1::less<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>>>, true>, std::__1::allocator<std::__1::__value_type<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>>, std::__1::unique_ptr<svg::SVGElement, std::__1::default_delete<svg::SVGElement>>>>>::~__tree() __tree:1799
    #11 0x1030f5de4 in std::__1::__tree<std::__1::__value_type<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>>, std::__1::unique_ptr<svg::SVGElement, std::__1::default_delete<svg::SVGElement>>>, std::__1::__map_value_compare<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>>, std::__1::__value_type<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>>, std::__1::unique_ptr<svg::SVGElement, std::__1::default_delete<svg::SVGElement>>>, std::__1::less<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>>>, true>, std::__1::allocator<std::__1::__value_type<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>>, std::__1::unique_ptr<svg::SVGElement, std::__1::default_delete<svg::SVGElement>>>>>::~__tree() __tree:1796
    #12 0x1030f5d6c in std::__1::map<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>>, std::__1::unique_ptr<svg::SVGElement, std::__1::default_delete<svg::SVGElement>>, std::__1::less<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>>>, std::__1::allocator<std::__1::pair<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>> const, std::__1::unique_ptr<svg::SVGElement, std::__1::default_delete<svg::SVGElement>>>>>::~map[abi:ue170006]() map:1230
    #13 0x1030978ec in std::__1::map<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>>, std::__1::unique_ptr<svg::SVGElement, std::__1::default_delete<svg::SVGElement>>, std::__1::less<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>>>, std::__1::allocator<std::__1::pair<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>> const, std::__1::unique_ptr<svg::SVGElement, std::__1::default_delete<svg::SVGElement>>>>>::~map[abi:ue170006]() map:1228
    #14 0x103097590 in svg::readSVG(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>> const&, svg::Point&, std::__1::vector<svg::SVGElement*, std::__1::allocator<svg::SVGElement*>>&) readSVG.cpp:179
    #15 0x1030f65d4 in svg::convert(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>> const&, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>> const&) convert.cpp:11
    #16 0x102f2f8b8 in svg::TestDriver::run_conversion_test(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>> const&) test.cpp:41
    #17 0x102f09204 in svg::TestDriver::run_test(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>> const&) test.cpp:102
    #18 0x102eff000 in svg::TestDriver::run_tests(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>> const&) test.cpp:163
    #19 0x102efde98 in main test.cpp:181
    #20 0x19448a0dc  (<unknown module>)

previously allocated by thread T0 here:
    #0 0x103b4574c in wrap__Znwm+0x74 (libclang_rt.asan_osx_dynamic.dylib:arm64e+0x6174c)
    #1 0x10308e634 in svg::parseSVGElement(tinyxml2::XMLElement*, svg::Point const&, std::__1::vector<svg::SVGElement*, std::__1::allocator<svg::SVGElement*>>&, std::__1::map<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>>, std::__1::unique_ptr<svg::SVGElement, std::__1::default_delete<svg::SVGElement>>, std::__1::less<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>>>, std::__1::allocator<std::__1::pair<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>> const, std::__1::unique_ptr<svg::SVGElement, std::__1::default_delete<svg::SVGElement>>>>>&) readSVG.cpp:112
    #2 0x103097410 in svg::readSVG(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>> const&, svg::Point&, std::__1::vector<svg::SVGElement*, std::__1::allocator<svg::SVGElement*>>&) readSVG.cpp:176
    #3 0x1030f65d4 in svg::convert(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>> const&, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>> const&) convert.cpp:11
    #4 0x102f2f8b8 in svg::TestDriver::run_conversion_test(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>> const&) test.cpp:41
    #5 0x102f09204 in svg::TestDriver::run_test(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>> const&) test.cpp:102
    #6 0x102eff000 in svg::TestDriver::run_tests(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>> const&) test.cpp:163
    #7 0x102efde98 in main test.cpp:181
    #8 0x19448a0dc  (<unknown module>)

SUMMARY: AddressSanitizer: heap-use-after-free convert.cpp:15 in svg::convert(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>> const&, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>> const&)
Shadow bytes around the buggy address:
  0x000106701780: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x000106701800: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x000106701880: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x000106701900: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x000106701980: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
=>0x000106701a00: fa fa fa fa fa fa fa fa fa fa fa fa[fd]fd fd fd
  0x000106701a80: fd fd fd fd fd fd fa fa fa fa 00 00 00 00 00 00
  0x000106701b00: 00 00 00 fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x000106701b80: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x000106701c00: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x000106701c80: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
Shadow byte legend (one shadow byte represents 8 application bytes):
  Addressable:           00
  Partially addressable: 01 02 03 04 05 06 07 
  Heap left redzone:       fa
  Freed heap region:       fd
  Stack left redzone:      f1
  Stack mid redzone:       f2
  Stack right redzone:     f3
  Stack after return:      f5
  Stack use after scope:   f8
  Global redzone:          f9
  Global init order:       f6
  Poisoned by user:        f7
  Container overflow:      fc
  Array cookie:            ac
  Intra object redzone:    bb
  ASan internal:           fe
  Left alloca redzone:     ca
  Right alloca redzone:    cb
==50639==ABORTING
>>>> [57] use_2 <<<<
convert.cpp:15:16: runtime error: member call on address 0x000106701a60 which does not point to an object of type 'svg::SVGElement'
0x000106701a60: note: object has invalid vptr
 00 00 00 00  7e 00 00 00 00 00 00 00  63 31 00 00 00 00 00 00  00 00 00 00 00 00 00 00  00 00 00 00
              ^~~~~~~~~~~~~~~~~~~~~~~
              invalid vptr
SUMMARY: UndefinedBehaviorSanitizer: undefined-behavior convert.cpp:15:16 in 
=================================================================
==50642==ERROR: AddressSanitizer: heap-use-after-free on address 0x000106701a60 at pc 0x0001030f69c8 bp 0x00016cf01ad0 sp 0x00016cf01ac8
READ of size 8 at 0x000106701a60 thread T0
    #0 0x1030f69c4 in svg::convert(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>> const&, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>> const&) convert.cpp:15
    #1 0x102f2f8b8 in svg::TestDriver::run_conversion_test(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>> const&) test.cpp:41
    #2 0x102f09204 in svg::TestDriver::run_test(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>> const&) test.cpp:102
    #3 0x102eff000 in svg::TestDriver::run_tests(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>> const&) test.cpp:163
    #4 0x102efde98 in main test.cpp:181
    #5 0x19448a0dc  (<unknown module>)

0x000106701a60 is located 0 bytes inside of 80-byte region [0x000106701a60,0x000106701ab0)
freed by thread T0 here:
    #0 0x103b45b8c in wrap__ZdlPv+0x74 (libclang_rt.asan_osx_dynamic.dylib:arm64e+0x61b8c)
    #1 0x10304ff38 in svg::Circle::~Circle() SVGElements.hpp:65
    #2 0x103065710 in std::__1::default_delete<svg::SVGElement>::operator()[abi:ue170006](svg::SVGElement*) const unique_ptr.h:68
    #3 0x103065308 in std::__1::unique_ptr<svg::SVGElement, std::__1::default_delete<svg::SVGElement>>::reset[abi:ue170006](svg::SVGElement*) unique_ptr.h:300
    #4 0x103065058 in std::__1::unique_ptr<svg::SVGElement, std::__1::default_delete<svg::SVGElement>>::~unique_ptr[abi:ue170006]() unique_ptr.h:266
    #5 0x10304fc64 in std::__1::unique_ptr<svg::SVGElement, std::__1::default_delete<svg::SVGElement>>::~unique_ptr[abi:ue170006]() unique_ptr.h:266
    #6 0x1030cc728 in std::__1::pair<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>> const, std::__1::unique_ptr<svg::SVGElement, std::__1::default_delete<svg::SVGElement>>>::~pair() pair.h:81
    #7 0x1030cc6ac in std::__1::pair<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>> const, std::__1::unique_ptr<svg::SVGElement, std::__1::default_delete<svg::SVGElement>>>::~pair() pair.h:81
    #8 0x1030cc604 in void std::__1::allocator_traits<std::__1::allocator<std::__1::__tree_node<std::__1::__value_type<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>>, std::__1::unique_ptr<svg::SVGElement, std::__1::default_delete<svg::SVGElement>>>, void*>>>::destroy[abi:ue170006]<std::__1::pair<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>> const, std::__1::unique_ptr<svg::SVGElement, std::__1::default_delete<svg::SVGElement>>>, void, void>(std::__1::allocator<std::__1::__tree_node<std::__1::__value_type<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>>, std::__1::unique_ptr<svg::SVGElement, std::__1::default_delete<svg::SVGElement>>>, void*>>&, std::__1::pair<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>> const, std::__1::unique_ptr<svg::SVGElement, std::__1::default_delete<svg::SVGElement>>>*) allocator_traits.h:325
    #9 0x1030f6298 in std::__1::__tree<std::__1::__value_type<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>>, std::__1::unique_ptr<svg::SVGElement, std::__1::default_delete<svg::SVGElement>>>, std::__1::__map_value_compare<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>>, std::__1::__value_type<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>>, std::__1::unique_ptr<svg::SVGElement, std::__1::default_delete<svg::SVGElement>>>, std::__1::less<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>>>, true>, std::__1::allocator<std::__1::__value_type<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>>, std::__1::unique_ptr<svg::SVGElement, std::__1::default_delete<svg::SVGElement>>>>>::destroy(std::__1::__tree_node<std::__1::__value_type<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>>, std::__1::unique_ptr<svg::SVGElement, std::__1::default_delete<svg::SVGElement>>>, void*>*) __tree:1811
    #10 0x1030f5e68 in std::__1::__tree<std::__1::__value_type<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>>, std::__1::unique_ptr<svg::SVGElement, std::__1::default_delete<svg::SVGElement>>>, std::__1::__map_value_compare<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>>, std::__1::__value_type<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>>, std::__1::unique_ptr<svg::SVGElement, std::__1::default_delete<svg::SVGElement>>>, std::__1::less<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>>>, true>, std::__1::allocator<std::__1::__value_type<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>>, std::__1::unique_ptr<svg::SVGElement, std::__1::default_delete<svg::SVGElement>>>>>::~__tree() __tree:1799
    #11 0x1030f5de4 in std::__1::__tree<std::__1::__value_type<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>>, std::__1::unique_ptr<svg::SVGElement, std::__1::default_delete<svg::SVGElement>>>, std::__1::__map_value_compare<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>>, std::__1::__value_type<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>>, std::__1::unique_ptr<svg::SVGElement, std::__1::default_delete<svg::SVGElement>>>, std::__1::less<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>>>, true>, std::__1::allocator<std::__1::__value_type<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>>, std::__1::unique_ptr<svg::SVGElement, std::__1::default_delete<svg::SVGElement>>>>>::~__tree() __tree:1796
    #12 0x1030f5d6c in std::__1::map<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>>, std::__1::unique_ptr<svg::SVGElement, std::__1::default_delete<svg::SVGElement>>, std::__1::less<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>>>, std::__1::allocator<std::__1::pair<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>> const, std::__1::unique_ptr<svg::SVGElement, std::__1::default_delete<svg::SVGElement>>>>>::~map[abi:ue170006]() map:1230
    #13 0x1030978ec in std::__1::map<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>>, std::__1::unique_ptr<svg::SVGElement, std::__1::default_delete<svg::SVGElement>>, std::__1::less<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>>>, std::__1::allocator<std::__1::pair<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>> const, std::__1::unique_ptr<svg::SVGElement, std::__1::default_delete<svg::SVGElement>>>>>::~map[abi:ue170006]() map:1228
    #14 0x103097590 in svg::readSVG(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>> const&, svg::Point&, std::__1::vector<svg::SVGElement*, std::__1::allocator<svg::SVGElement*>>&) readSVG.cpp:179
    #15 0x1030f65d4 in svg::convert(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>> const&, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>> const&) convert.cpp:11
    #16 0x102f2f8b8 in svg::TestDriver::run_conversion_test(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>> const&) test.cpp:41
    #17 0x102f09204 in svg::TestDriver::run_test(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>> const&) test.cpp:102
    #18 0x102eff000 in svg::TestDriver::run_tests(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>> const&) test.cpp:163
    #19 0x102efde98 in main test.cpp:181
    #20 0x19448a0dc  (<unknown module>)

previously allocated by thread T0 here:
    #0 0x103b4574c in wrap__Znwm+0x74 (libclang_rt.asan_osx_dynamic.dylib:arm64e+0x6174c)
    #1 0x10308e634 in svg::parseSVGElement(tinyxml2::XMLElement*, svg::Point const&, std::__1::vector<svg::SVGElement*, std::__1::allocator<svg::SVGElement*>>&, std::__1::map<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>>, std::__1::unique_ptr<svg::SVGElement, std::__1::default_delete<svg::SVGElement>>, std::__1::less<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>>>, std::__1::allocator<std::__1::pair<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>> const, std::__1::unique_ptr<svg::SVGElement, std::__1::default_delete<svg::SVGElement>>>>>&) readSVG.cpp:112
    #2 0x103097410 in svg::readSVG(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>> const&, svg::Point&, std::__1::vector<svg::SVGElement*, std::__1::allocator<svg::SVGElement*>>&) readSVG.cpp:176
    #3 0x1030f65d4 in svg::convert(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>> const&, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>> const&) convert.cpp:11
    #4 0x102f2f8b8 in svg::TestDriver::run_conversion_test(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>> const&) test.cpp:41
    #5 0x102f09204 in svg::TestDriver::run_test(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>> const&) test.cpp:102
    #6 0x102eff000 in svg::TestDriver::run_tests(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>> const&) test.cpp:163
    #7 0x102efde98 in main test.cpp:181
    #8 0x19448a0dc  (<unknown module>)

SUMMARY: AddressSanitizer: heap-use-after-free convert.cpp:15 in svg::convert(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>> const&, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>> const&)
Shadow bytes around the buggy address:
  0x000106701780: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x000106701800: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x000106701880: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x000106701900: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x000106701980: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fd fd
=>0x000106701a00: fd fd fd fd fd fd fd fd fa fa fa fa[fd]fd fd fd
  0x000106701a80: fd fd fd fd fd fd fa fa fa fa 00 00 00 00 00 00
  0x000106701b00: 00 00 00 fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x000106701b80: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x000106701c00: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x000106701c80: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
Shadow byte legend (one shadow byte represents 8 application bytes):
  Addressable:           00
  Partially addressable: 01 02 03 04 05 06 07 
  Heap left redzone:       fa
  Freed heap region:       fd
  Stack left redzone:      f1
  Stack mid redzone:       f2
  Stack right redzone:     f3
  Stack after return:      f5
  Stack use after scope:   f8
  Global redzone:          f9
  Global init order:       f6
  Poisoned by user:        f7
  Container overflow:      fc
  Array cookie:            ac
  Intra object redzone:    bb
  ASan internal:           fe
  Left alloca redzone:     ca
  Right alloca redzone:    cb
==50642==ABORTING
>>>> [58] use_3 <<<<
pixel (0 250): expected 255 0 0 got 255 255 255
>>>> [59] use_4 <<<<
pixel (0 0): expected 255 0 0 got 255 255 255
>>>> [60] use_5 <<<<
pixel (51 51): expected 0 255 0 got 255 255 255
>>>> [61] use_6 <<<<
pixel (0 0): expected 0 0 0 got 255 255 255
